<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fill Me • Hauptmenü</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }

        table {
            width: 90%;
            margin: 20px auto;
            border-collapse: collapse;
        }

        td {
            width: 30%;
            text-align: center;
        }

        button {
            width: 80%;
            padding: 10px;
            margin: 10px;
            font-size: 16px;
            background-color: lightgray;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }

        button:hover {
            background-color: gray;
            color: white;
        }

        #modeSelection {
            margin: 20px auto;
        }

        #overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 9;
        }

        #resultModal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border: 2px solid black;
            z-index: 10;
        }

        .level {
            display: inline-block;
            width: 25%; /* 25% der Breite */
            height: 70px; /* Höhe der Buttons */
            margin: 2.5%; /* 5% Abstand insgesamt (2.5% auf jeder Seite) */
            border: 2px solid black;
            border-radius: 10px; /* Abgerundete Ecken */
            cursor: pointer;
            line-height: 70px; /* Vertikale Zentrierung des Textes */
            font-size: 18px; /* Kleinere Schriftgröße */
            background-color: lightgray;
        }
        
    </style>
</head>
<body>
    <h1>Fill Me • Hauptmenü</h1>
    <p>Ziel ist es, das Spielfeld komplett in einer Farbe zu füllen. Du beginnst in der Mitte und wählst bei jedem Zug eine Farbe. Jede angrenzende Fläche in deiner gewählten Farbe wird dann deinem Bereich hinzugefügt. Das Ziel ist, möglichst viele Felder in wenigen Zügen einzunehmen. Achte darauf, strategisch vorzugehen, da du nur eine begrenzte Anzahl an Zügen hast. Gewinne, indem du das gesamte Spielfeld in deiner Farbe füllst.</p></p>

    <!-- Modus-Auswahl -->
    <div id="modeSelection">
        <h2>Wähle deinen Modus:</h2>
        <button onclick="showProfile()">Profil</button>
        <button onclick="showSinglePlayer()">Einzelspieler</button>
        <button onclick="showMultiPlayer()">Mehrspieler</button>
        <button onclick="showChallenges()">Herausforderungen [ALPHA]</button>
    </div>


      <!-- Profil -->     
<div id="profile" style="display: none;">
    <img src="ein_spieler_spiel_index_banner.png.PNG" alt="Einzelspieler Banner" style="width: 90%;">
    <p>Profil für <span id="userDisplay">Benutzer</span></p> <!-- Überschrift mit Benutzername -->
    <p>EXP: <span id="expDisplay">0</span></p> <!-- Platzhalter für EXP -->

    <!-- Buttons zum Löschen und Abmelden des Accounts -->
    <div style="display: flex; justify-content: space-around; margin-top: 20px;">
        <button onclick="logout()" style="width: 45%; margin: 0 5%;">Abmelden</button>
        <button onclick="clearLocalStorage()" style="width: 45%; margin: 0 5%;">Account löschen</button>
    </div>
</div>


    <!-- Einzelspieler Optionen -->
    <div id="singlePlayer" style="display: none;">
        <img src="ein_spieler_spiel_index_banner.png.PNG" alt="Einzelspieler Banner" style="width: 90%;">
        <p>Spiele Filler im Einzelspielermodus</p>
        <select id="gridSize">
            <option value="11">11x11</option>
            <option value="21">21x21</option>
            <option value="31">31x31</option>
        </select>
        <select id="numMoves">
            <option value="5">5 Züge</option>
            <option value="10">10 Züge</option>
            <option value="15">15 Züge</option>
            <option value="20">20 Züge</option>
            <option value="25">25 Züge</option>
            <option value="30">30 Züge</option>
            <option value="40">40 Züge</option>
            <option value="50">50 Züge</option>
            <option value="unlimited">Unendlich</option>
        </select>
        <select id="numColors">
            <option value="3">3 Farben</option>
            <option value="5">5 Farben</option>
            <option value="7">7 Farben</option>
            <option value="9">9 Farben</option>
        </select>
        <button onclick="startSinglePlayer()">Spiel starten</button>
    </div>

    <!-- Mehrspieler Optionen -->
    <div id="multiPlayer" style="display: none;">
        <img src="zwei_spieler_spiel_index_banner.png.PNG" alt="Mehrspieler Banner" style="width: 90%;">
        <p>Spiele Filler im Mehrspielermodus</p>
        <select id="gridSizeMulti">
            <option value="11">11x11</option>
            <option value="21">21x21</option>
            <option value="31">31x31</option>
        </select>
        <select id="numColorsMulti">
            <option value="3">3 Farben</option>
            <option value="5">5 Farben</option>
            <option value="7">7 Farben</option>
            <option value="9">9 Farben</option>
        </select>
        <button onclick="startMultiPlayer()">Spiel starten</button>
    </div>

    <!-- Herausforderungen -->
    <div id="challenges" style="display: none;">
        <img id="challengeBanner" src="herausforderung_spiel_index_banner.png.PNG" alt="Herausforderungen Banner" style="width: 90%;">
        <p>Spiele Filler mit einzigartigen Herausforderungen</p>
        <div id="levelButtons">
            <div id="btn-l1" class="level" onclick="startChallenge(1)">1</div>
<div id="btn-l2" class="level" onclick="startChallenge(2)">2</div>
<div id="btn-l3" class="level" onclick="startChallenge(3)">3</div>
<div id="btn-l4" class="level" onclick="startChallenge(4)">4</div>
<div id="btn-l5" class="level" onclick="startChallenge(5)">5</div>
<div id="btn-l6" class="level" onclick="startChallenge(6)">6</div>
<div id="btn-l7" class="level" onclick="startChallenge(7)">7</div>
<div id="btn-l8" class="level" onclick="startChallenge(8)">8</div>
<div id="btn-l9" class="level" onclick="startChallenge(9)">9</div>
<div id="btn-l10" class="level" onclick="startChallenge(10)">10</div>
<div id="btn-l11" class="level" onclick="startChallenge(11)">11</div>
<div id="btn-l12" class="level" onclick="startChallenge(12)">12</div>
<div id="btn-l13" class="level" onclick="startChallenge(13)">13</div>
<div id="btn-l14" class="level" onclick="startChallenge(14)">14</div>
<div id="btn-l15" class="level" onclick="startChallenge(15)">15</div>
<div id="btn-l16" class="level" onclick="startChallenge(16)">16</div>
<div id="btn-l17" class="level" onclick="startChallenge(17)">17</div>
<div id="btn-l18" class="level" onclick="startChallenge(18)">18</div>
<div id="btn-l19" class="level" onclick="startChallenge(19)">19</div>
<div id="btn-l20" class="level" onclick="startChallenge(20)">20</div>
<div id="btn-l21" class="level" onclick="startChallenge(21)">21</div>
<div id="btn-l22" class="level" onclick="startChallenge(22)">22</div>
<div id="btn-l23" class="level" onclick="startChallenge(23)">23</div>
<div id="btn-l24" class="level" onclick="startChallenge(24)">24</div>
<div id="btn-l25" class="level" onclick="startChallenge(25)">25</div>
<div id="btn-l26" class="level" onclick="startChallenge(26)">26</div>
<div id="btn-l27" class="level" onclick="startChallenge(27)">27</div>
<div id="btn-l28" class="level" onclick="startChallenge(28)">28</div>
<div id="btn-l29" class="level" onclick="startChallenge(29)">29</div>
<div id="btn-l30" class="level" onclick="startChallenge(30)">30</div>
<div id="btn-l31" class="level" onclick="startChallenge(31)">31</div>
<div id="btn-l32" class="level" onclick="startChallenge(32)">32</div>
<div id="btn-l33" class="level" onclick="startChallenge(33)">33</div>
<div id="btn-l34" class="level" onclick="startChallenge(34)">34</div>
<div id="btn-l35" class="level" onclick="startChallenge(35)">35</div>
<div id="btn-l36" class="level" onclick="startChallenge(36)">36</div>
<div id="btn-l37" class="level" onclick="startChallenge(37)">37</div>
<div id="btn-l38" class="level" onclick="startChallenge(38)">38</div>
<div id="btn-l39" class="level" onclick="startChallenge(39)">39</div>
<div id="btn-l40" class="level" onclick="startChallenge(40)">40</div>
<div id="btn-l41" class="level" onclick="startChallenge(41)">41</div>
<div id="btn-l42" class="level" onclick="startChallenge(42)">42</div>
<div id="btn-l43" class="level" onclick="startChallenge(43)">43</div>
<div id="btn-l44" class="level" onclick="startChallenge(44)">44</div>
<div id="btn-l45" class="level" onclick="startChallenge(45)">45</div>
<div id="btn-l46" class="level" onclick="startChallenge(46)">46</div>
<div id="btn-l47" class="level" onclick="startChallenge(47)">47</div>
<div id="btn-l48" class="level" onclick="startChallenge(48)">48</div>
<div id="btn-l49" class="level" onclick="startChallenge(49)">49</div>
<div id="btn-l50" class="level" onclick="startChallenge(50)">50</div>
<div id="btn-l51" class="level" onclick="startChallenge(51)">51</div>
<div id="btn-l52" class="level" onclick="startChallenge(52)">52</div>
<div id="btn-l53" class="level" onclick="startChallenge(53)">53</div>
<div id="btn-l54" class="level" onclick="startChallenge(54)">54</div>
<div id="btn-l55" class="level" onclick="startChallenge(55)">55</div>
<div id="btn-l56" class="level" onclick="startChallenge(56)">56</div>
<div id="btn-l57" class="level" onclick="startChallenge(57)">57</div>
<div id="btn-l58" class="level" onclick="startChallenge(58)">58</div>
<div id="btn-l59" class="level" onclick="startChallenge(59)">59</div>
<div id="btn-l60" class="level" onclick="startChallenge(60)">60</div>
<div id="btn-l61" class="level" onclick="startChallenge(61)">61</div>
<div id="btn-l62" class="level" onclick="startChallenge(62)">62</div>
<div id="btn-l63" class="level" onclick="startChallenge(63)">63</div>
<div id="btn-l64" class="level" onclick="startChallenge(64)">64</div>
<div id="btn-l65" class="level" onclick="startChallenge(65)">65</div>
<div id="btn-l66" class="level" onclick="startChallenge(66)">66</div>
<div id="btn-l67" class="level" onclick="startChallenge(67)">67</div>
<div id="btn-l68" class="level" onclick="startChallenge(68)">68</div>
<div id="btn-l69" class="level" onclick="startChallenge(69)">69</div>
<div id="btn-l70" class="level" onclick="startChallenge(70)">70</div>
<div id="btn-l71" class="level" onclick="startChallenge(71)">71</div>
<div id="btn-l72" class="level" onclick="startChallenge(72)">72</div>
<div id="btn-l73" class="level" onclick="startChallenge(73)">73</div>
<div id="btn-l74" class="level" onclick="startChallenge(74)">74</div>
<div id="btn-l75" class="level" onclick="startChallenge(75)">75</div>
<div id="btn-l76" class="level" onclick="startChallenge(76)">76</div>
<div id="btn-l77" class="level" onclick="startChallenge(77)">77</div>
<div id="btn-l78" class="level" onclick="startChallenge(78)">78</div>
<div id="btn-l79" class="level" onclick="startChallenge(79)">79</div>
<div id="btn-l80" class="level" onclick="startChallenge(80)">80</div>
<div id="btn-l81" class="level" onclick="startChallenge(81)">81</div>
<div id="btn-l82" class="level" onclick="startChallenge(82)">82</div>
<div id="btn-l83" class="level" onclick="startChallenge(83)">83</div>
<div id="btn-l84" class="level" onclick="startChallenge(84)">84</div>
<div id="btn-l85" class="level" onclick="startChallenge(85)">85</div>
<div id="btn-l86" class="level" onclick="startChallenge(86)">86</div>
<div id="btn-l87" class="level" onclick="startChallenge(87)">87</div>
<div id="btn-l88" class="level" onclick="startChallenge(88)">88</div>
<div id="btn-l89" class="level" onclick="startChallenge(89)">89</div>
<div id="btn-l90" class="level" onclick="startChallenge(90)">90</div>
<div id="btn-l91" class="level" onclick="startChallenge(91)">91</div>
<div id="btn-l92" class="level" onclick="startChallenge(92)">92</div>
            <div id="btn-l93" class="level" onclick="startChallenge(93)">93</div>
<div id="btn-l94" class="level" onclick="startChallenge(94)">94</div>
<div id="btn-l95" class="level" onclick="startChallenge(95)">95</div>
<div id="btn-l96" class="level" onclick="startChallenge(96)">96</div>
<div id="btn-l97" class="level" onclick="startChallenge(97)">97</div>
<div id="btn-l98" class="level" onclick="startChallenge(98)">98</div>
<div id="btn-l99" class="level" onclick="startChallenge(99)">99</div>
<div id="btn-l100" class="level" onclick="startChallenge(100)">100</div>
<div id="btn-l101" class="level" onclick="startChallenge(101)">101</div>
<div id="btn-l102" class="level" onclick="startChallenge(102)">102</div>
<div id="btn-l103" class="level" onclick="startChallenge(103)">103</div>
<div id="btn-l104" class="level" onclick="startChallenge(104)">104</div>
<div id="btn-l105" class="level" onclick="startChallenge(105)">105</div>
<div id="btn-l106" class="level" onclick="startChallenge(106)">106</div>
<div id="btn-l107" class="level" onclick="startChallenge(107)">107</div>
<div id="btn-l108" class="level" onclick="startChallenge(108)">108</div>
<div id="btn-l109" class="level" onclick="startChallenge(109)">109</div>
<div id="btn-l110" class="level" onclick="startChallenge(110)">110</div>
<div id="btn-l111" class="level" onclick="startChallenge(111)">111</div>
<div id="btn-l112" class="level" onclick="startChallenge(112)">112</div>
<div id="btn-l113" class="level" onclick="startChallenge(113)">113</div>
<div id="btn-l114" class="level" onclick="startChallenge(114)">114</div>
<div id="btn-l115" class="level" onclick="startChallenge(115)">115</div>
<div id="btn-l116" class="level" onclick="startChallenge(116)">116</div>
<div id="btn-l117" class="level" onclick="startChallenge(117)">117</div>
<div id="btn-l118" class="level" onclick="startChallenge(118)">118</div>
<div id="btn-l119" class="level" onclick="startChallenge(119)">119</div>
<div id="btn-l120" class="level" onclick="startChallenge(120)">120</div>


        </div>
    </div>

    <div id="overlay"></div>
    <div id="resultModal">
        <h2>Spielende</h2>
        <p id="resultMessage"></p>
        <button id="restartGame">OK</button>
    </div>

    <script>
        function clearLocalStorage() {
    const currentUser = localStorage.getItem('currentUsername'); // Den aktuellen Benutzernamen abrufen

    // Überprüfen, ob ein Benutzername vorhanden ist
    if (!currentUser) {
        alert('Kein Benutzername gefunden.'); // Optional: Eine Warnung anzeigen, wenn kein Benutzername vorhanden ist
        return;
    }

    // Alle aktuellen Benutzerdaten löschen
    for (let key in localStorage) {
        if (key.startsWith(`exp_${currentUser}`) || key.startsWith(`level_${currentUser}`)) {
            localStorage.removeItem(key); // Löscht die Einträge, die mit dem Benutzernamen verknüpft sind
        }
    }

    // Bestätigungsnachricht
    alert('Dein Account wurde gelöscht.');

    // Auf die index.html leiten
    window.location.href = 'index.html'; // Hier sicherstellen, dass der Pfad korrekt ist
}

    function logout() {
            // Bestätigungsnachricht
        alert('Dein Account wurde abgemeldet.');
        // Nur Weiterleitung zur Index-Seite, ohne Daten zu löschen
        window.location.href = 'index.html';
    }


        // Funktionen um die verschiedenen Abschnitte anzuzeigen
        function showProfile() {
    // Zeigt das Profil an
    document.getElementById('profile').style.display = 'block';
    document.getElementById('singlePlayer').style.display = 'none';
    document.getElementById('multiPlayer').style.display = 'none';
    document.getElementById('challenges').style.display = 'none';

    // Holt den Benutzernamen aus localStorage und zeigt ihn an
    const currentUser = localStorage.getItem('currentUsername') || 'Benutzer';
    document.getElementById('userDisplay').textContent = currentUser;

    // Spezifischer Schlüssel für den Benutzer
    const expKey = `exp_${currentUser}`; // Schlüssel für die EXP basierend auf dem Benutzernamen

    // Holt den EXP-Wert des aktuellen Benutzers und zeigt ihn an
    const exp = localStorage.getItem(expKey) || 0; // EXP aus localStorage abrufen
    document.getElementById('expDisplay').textContent = exp; // EXP anzeigen
}
        
        function showSinglePlayer() {
            document.getElementById('profile').style.display = 'none';
            document.getElementById('singlePlayer').style.display = 'block';
            document.getElementById('multiPlayer').style.display = 'none';
            document.getElementById('challenges').style.display = 'none';
        }

        function showMultiPlayer() {
            document.getElementById('profile').style.display = 'none';
            document.getElementById('singlePlayer').style.display = 'none';
            document.getElementById('multiPlayer').style.display = 'block';
            document.getElementById('challenges').style.display = 'none';
        }

        function showChallenges() {
            document.getElementById('profile').style.display = 'none';
            document.getElementById('singlePlayer').style.display = 'none';
            document.getElementById('multiPlayer').style.display = 'none';
            document.getElementById('challenges').style.display = 'block';
            loadLevels(); // Lade die Level, wenn die Herausforderungen angezeigt werden
        }

        function startSinglePlayer() {
            const gridSize = document.getElementById('gridSize').value;
            const numMoves = document.getElementById('numMoves').value;
            const numColors = document.getElementById('numColors').value;
            window.location.href = `ein_spieler_spiel.html?gridSize=${gridSize}&numMoves=${numMoves}&numColors=${numColors}`;
        }

        function startMultiPlayer() {
            const gridSize = document.getElementById('gridSizeMulti').value;
            const numColors = document.getElementById('numColorsMulti').value;
            window.location.href = `zwei_spieler_spiel.html?gridSize=${gridSize}&numColors=${numColors}`;
        }

        // Neue Herausforderungen Level
      const levels = {
    1:   { gridSize: 3, points: 5,   numMoves: 3, numColors: 2 }, // 3 * 3 = 9, Punkte: 5
    2:   { gridSize: 3, points: 6,   numMoves: 4, numColors: 2 }, // 3 * 3 = 9, Punkte: 6
    3:   { gridSize: 3, points: 7,   numMoves: 5, numColors: 2 }, // 3 * 3 = 9, Punkte: 7
    4:   { gridSize: 4, points: 12,  numMoves: 6, numColors: 2 }, // 4 * 4 = 16, Punkte: 12
    5:   { gridSize: 4, points: 13,  numMoves: 7, numColors: 2 }, // 4 * 4 = 16, Punkte: 13
    6:   { gridSize: 4, points: 14,  numMoves: 8, numColors: 2 }, // 4 * 4 = 16, Punkte: 14
    7:   { gridSize: 5, points: 20,  numMoves: 9, numColors: 2 }, // 5 * 5 = 25, Punkte: 20
    8:   { gridSize: 5, points: 21,  numMoves: 10, numColors: 2 }, // 5 * 5 = 25, Punkte: 21
    9:   { gridSize: 5, points: 22,  numMoves: 11, numColors: 2 }, // 5 * 5 = 25, Punkte: 22
    10:  { gridSize: 6, points: 30,  numMoves: 12, numColors: 3 }, // 6 * 6 = 36, Punkte: 30
    11:  { gridSize: 6, points: 31,  numMoves: 13, numColors: 3 }, // 6 * 6 = 36, Punkte: 31
    12:  { gridSize: 6, points: 32,  numMoves: 14, numColors: 3 }, // 6 * 6 = 36, Punkte: 32
    13:  { gridSize: 7, points: 42,  numMoves: 15, numColors: 3 }, // 7 * 7 = 49, Punkte: 42
    14:  { gridSize: 7, points: 44,  numMoves: 16, numColors: 3 }, // 7 * 7 = 49, Punkte: 44
    15:  { gridSize: 7, points: 46,  numMoves: 17, numColors: 3 }, // 7 * 7 = 49, Punkte: 46
    16:  { gridSize: 8, points: 56,  numMoves: 18, numColors: 3 }, // 8 * 8 = 64, Punkte: 56
    17:  { gridSize: 8, points: 58,  numMoves: 19, numColors: 3 }, // 8 * 8 = 64, Punkte: 58
    18:  { gridSize: 8, points: 60,  numMoves: 20, numColors: 3 }, // 8 * 8 = 64, Punkte: 60
    19:  { gridSize: 9, points: 72,  numMoves: 21, numColors: 4 }, // 9 * 9 = 81, Punkte: 72
    20:  { gridSize: 9, points: 74,  numMoves: 22, numColors: 4 }, // 9 * 9 = 81, Punkte: 74
    21:  { gridSize: 9, points: 76,  numMoves: 23, numColors: 4 }, // 9 * 9 = 81, Punkte: 76
    22:  { gridSize: 10, points: 90, numMoves: 24, numColors: 4 }, // 10 * 10 = 100, Punkte: 90
    23:  { gridSize: 10, points: 92, numMoves: 25, numColors: 4 }, // 10 * 10 = 100, Punkte: 92
    24:  { gridSize: 10, points: 94, numMoves: 26, numColors: 4 }, // 10 * 10 = 100, Punkte: 94
    25:  { gridSize: 11, points: 110, numMoves: 27, numColors: 4 }, // 11 * 11 = 121, Punkte: 110
    26:  { gridSize: 11, points: 112, numMoves: 28, numColors: 4 }, // 11 * 11 = 121, Punkte: 112
    27:  { gridSize: 11, points: 114, numMoves: 29, numColors: 4 }, // 11 * 11 = 121, Punkte: 114
    28:  { gridSize: 12, points: 132, numMoves: 30, numColors: 5 }, // 12 * 12 = 144, Punkte: 132
    29:  { gridSize: 12, points: 134, numMoves: 31, numColors: 5 }, // 12 * 12 = 144, Punkte: 134
    30:  { gridSize: 12, points: 136, numMoves: 32, numColors: 5 }, // 12 * 12 = 144, Punkte: 136
    31:  { gridSize: 13, points: 156, numMoves: 33, numColors: 5 }, // 13 * 13 = 169, Punkte: 156
    32:  { gridSize: 13, points: 158, numMoves: 34, numColors: 5 }, // 13 * 13 = 169, Punkte: 158
    33:  { gridSize: 13, points: 160, numMoves: 35, numColors: 5 }, // 13 * 13 = 169, Punkte: 160
    34:  { gridSize: 14, points: 196, numMoves: 36, numColors: 5 }, // 14 * 14 = 196, Punkte: 196
    35:  { gridSize: 14, points: 198, numMoves: 37, numColors: 5 }, // 14 * 14 = 196, Punkte: 198
    36:  { gridSize: 14, points: 200, numMoves: 38, numColors: 5 }, // 14 * 14 = 196, Punkte: 200
    37:  { gridSize: 15, points: 225, numMoves: 39, numColors: 6 }, // 15 * 15 = 225, Punkte: 225
    38:  { gridSize: 15, points: 227, numMoves: 40, numColors: 6 }, // 15 * 15 = 225, Punkte: 227
    39:  { gridSize: 15, points: 229, numMoves: 41, numColors: 6 }, // 15 * 15 = 225, Punkte: 229
    40:  { gridSize: 16, points: 256, numMoves: 42, numColors: 6 }, // 16 * 16 = 256, Punkte: 256
    41:  { gridSize: 16, points: 258, numMoves: 43, numColors: 6 }, // 16 * 16 = 256, Punkte: 258
    42:  { gridSize: 16, points: 260, numMoves: 44, numColors: 6 }, // 16 * 16 = 256, Punkte: 260
    43:  { gridSize: 17, points: 289, numMoves: 45, numColors: 7 }, // 17 * 17 = 289, Punkte: 289
    44:  { gridSize: 17, points: 291, numMoves: 46, numColors: 7 }, // 17 * 17 = 289, Punkte: 291
    45:  { gridSize: 17, points: 292, numMoves: 47, numColors: 7 }, // 17 * 17 = 289, Punkte: 292
    46:  { gridSize: 17, points: 293, numMoves: 48, numColors: 7 }, // 17 * 17 = 289, Punkte: 293
    47:  { gridSize: 17, points: 295, numMoves: 49, numColors: 7 }, // 17 * 17 = 289, Punkte: 295
    48:  { gridSize: 18, points: 324, numMoves: 50, numColors: 7 }, // 18 * 18 = 324, Punkte: 324
    49:  { gridSize: 18, points: 326, numMoves: 51, numColors: 7 }, // 18 * 18 = 324, Punkte: 326
    50:  { gridSize: 18, points: 328, numMoves: 52, numColors: 7 }, // 18 * 18 = 324, Punkte: 328
    51:  { gridSize: 19, points: 361, numMoves: 53, numColors: 8 }, // 19 * 19 = 361, Punkte: 361
    52:  { gridSize: 19, points: 362, numMoves: 54, numColors: 8 }, // 19 * 19 = 361, Punkte: 362
    53:  { gridSize: 19, points: 364, numMoves: 55, numColors: 8 }, // 19 * 19 = 361, Punkte: 364
    54:  { gridSize: 20, points: 400, numMoves: 56, numColors: 8 }, // 20 * 20 = 400, Punkte: 400
    55:  { gridSize: 20, points: 402, numMoves: 57, numColors: 8 }, // 20 * 20 = 400, Punkte: 402
    56:  { gridSize: 20, points: 404, numMoves: 58, numColors: 8 }, // 20 * 20 = 400, Punkte: 404
    57:  { gridSize: 21, points: 441, numMoves: 59, numColors: 8 }, // 21 * 21 = 441, Punkte: 441
    58:  { gridSize: 21, points: 443, numMoves: 60, numColors: 8 }, // 21 * 21 = 441, Punkte: 443
    59:  { gridSize: 21, points: 445, numMoves: 61, numColors: 8 }, // 21 * 21 = 441, Punkte: 445
    60:  { gridSize: 22, points: 484, numMoves: 62, numColors: 9 }, // 22 * 22 = 484, Punkte: 484
    61:  { gridSize: 22, points: 486, numMoves: 63, numColors: 9 }, // 22 * 22 = 484, Punkte: 486
    62:  { gridSize: 22, points: 488, numMoves: 64, numColors: 9 }, // 22 * 22 = 484, Punkte: 488
    63:  { gridSize: 23, points: 529, numMoves: 65, numColors: 9 }, // 23 * 23 = 529, Punkte: 529
    64:  { gridSize: 23, points: 531, numMoves: 66, numColors: 9 }, // 23 * 23 = 529, Punkte: 531
    65:  { gridSize: 23, points: 533, numMoves: 67, numColors: 9 }, // 23 * 23 = 529, Punkte: 533
    66:  { gridSize: 24, points: 576, numMoves: 68, numColors: 10 }, // 24 * 24 = 576, Punkte: 576
    67:  { gridSize: 24, points: 578, numMoves: 69, numColors: 10 }, // 24 * 24 = 576, Punkte: 578
    68:  { gridSize: 24, points: 580, numMoves: 70, numColors: 10 }, // 24 * 24 = 576, Punkte: 580
    69:  { gridSize: 25, points: 625, numMoves: 71, numColors: 10 }, // 25 * 25 = 625, Punkte: 625
    70:  { gridSize: 25, points: 627, numMoves: 72, numColors: 10 }, // 25 * 25 = 625, Punkte: 627
    71:  { gridSize: 25, points: 629, numMoves: 73, numColors: 10 }, // 25 * 25 = 625, Punkte: 629
    72:  { gridSize: 26, points: 676, numMoves: 74, numColors: 10 }, // 26 * 26 = 676, Punkte: 676
    73:  { gridSize: 26, points: 678, numMoves: 75, numColors: 10 }, // 26 * 26 = 676, Punkte: 678
    74:  { gridSize: 26, points: 680, numMoves: 76, numColors: 10 }, // 26 * 26 = 676, Punkte: 680
    75:  { gridSize: 27, points: 729, numMoves: 77, numColors: 11 }, // 27 * 27 = 729, Punkte: 729
    76:  { gridSize: 27, points: 731, numMoves: 78, numColors: 11 }, // 27 * 27 = 729, Punkte: 731
    77:  { gridSize: 27, points: 733, numMoves: 79, numColors: 11 }, // 27 * 27 = 729, Punkte: 733
    78:  { gridSize: 28, points: 784, numMoves: 80, numColors: 11 }, // 28 * 28 = 784, Punkte: 784
    79:  { gridSize: 28, points: 786, numMoves: 81, numColors: 11 }, // 28 * 28 = 784, Punkte: 786
    80:  { gridSize: 28, points: 788, numMoves: 82, numColors: 11 }, // 28 * 28 = 784, Punkte: 788
    81:  { gridSize: 29, points: 841, numMoves: 83, numColors: 11 }, // 29 * 29 = 841, Punkte: 841
    82:  { gridSize: 29, points: 843, numMoves: 84, numColors: 11 }, // 29 * 29 = 841, Punkte: 843
    83:  { gridSize: 29, points: 845, numMoves: 85, numColors: 11 }, // 29 * 29 = 841, Punkte: 845
    84:  { gridSize: 30, points: 900, numMoves: 86, numColors: 12 }, // 30 * 30 = 900, Punkte: 900
    85:  { gridSize: 30, points: 902, numMoves: 87, numColors: 12 }, // 30 * 30 = 900, Punkte: 902
    86:  { gridSize: 30, points: 904, numMoves: 88, numColors: 12 }, // 30 * 30 = 900, Punkte: 904
    87:  { gridSize: 31, points: 961, numMoves: 89, numColors: 12 }, // 31 * 31 = 961, Punkte: 961
    88:  { gridSize: 31, points: 963, numMoves: 90, numColors: 12 }, // 31 * 31 = 961, Punkte: 963
    89:  { gridSize: 31, points: 967, numMoves: 91, numColors: 12 }, // 31 * 31 = 961, Punkte: 967
    90:  { gridSize: 31, points: 968, numMoves: 92, numColors: 12 }, // 31 * 31 = 961, Punkte: 968
    91:  { gridSize: 31, points: 970, numMoves: 93, numColors: 12 }, // 31 * 31 = 961, Punkte: 970
    92:  { gridSize: 32, points: 1024, numMoves: 94, numColors: 12 }, // 32 * 32 = 1024, Punkte: 1024
    93:  { gridSize: 32, points: 1025, numMoves: 95, numColors: 12 }, // 32 * 32 = 1024, Punkte: 1025
    94:  { gridSize: 32, points: 1026, numMoves: 96, numColors: 12 }, // 32 * 32 = 1024, Punkte: 1026
    95:  { gridSize: 33, points: 1089, numMoves: 97, numColors: 13 }, // 33 * 33 = 1089, Punkte: 1089
    96:  { gridSize: 33, points: 1090, numMoves: 98, numColors: 13 }, // 33 * 33 = 1089, Punkte: 1090
    97:  { gridSize: 33, points: 1092, numMoves: 99, numColors: 13 }, // 33 * 33 = 1089, Punkte: 1092
    98:  { gridSize: 34, points: 1156, numMoves: 100, numColors: 13 }, // 34 * 34 = 1156, Punkte: 1156
    99:  { gridSize: 34, points: 1158, numMoves: 101, numColors: 13 }, // 34 * 34 = 1156, Punkte: 1158
    100: { gridSize: 34, points: 1160, numMoves: 102, numColors: 13 }, // 34 * 34 = 1156, Punkte: 1160
    101: { gridSize: 35, points: 1225, numMoves: 103, numColors: 13 }, // 35 * 35 = 1225, Punkte: 1225
    102: { gridSize: 35, points: 1227, numMoves: 104, numColors: 13 }, // 35 * 35 = 1225, Punkte: 1227
    103: { gridSize: 35, points: 1229, numMoves: 105, numColors: 13 }, // 35 * 35 = 1225, Punkte: 1229
    104: { gridSize: 36, points: 1296, numMoves: 106, numColors: 14 }, // 36 * 36 = 1296, Punkte: 1296
    105: { gridSize: 36, points: 1298, numMoves: 107, numColors: 14 }, // 36 * 36 = 1296, Punkte: 1298
    106: { gridSize: 36, points: 1300, numMoves: 108, numColors: 14 }, // 36 * 36 = 1296, Punkte: 1300
    107: { gridSize: 37, points: 1369, numMoves: 109, numColors: 14 }, // 37 * 37 = 1369, Punkte: 1369
    108: { gridSize: 37, points: 1371, numMoves: 110, numColors: 14 }, // 37 * 37 = 1369, Punkte: 1371
    109: { gridSize: 37, points: 1373, numMoves: 111, numColors: 14 }, // 37 * 37 = 1369, Punkte: 1373
    110: { gridSize: 38, points: 1444, numMoves: 112, numColors: 14 }, // 38 * 38 = 1444, Punkte: 1444
    111: { gridSize: 38, points: 1446, numMoves: 113, numColors: 14 }, // 38 * 38 = 1444, Punkte: 1446
    112: { gridSize: 38, points: 1448, numMoves: 114, numColors: 14 }, // 38 * 38 = 1444, Punkte: 1448
    113: { gridSize: 39, points: 1521, numMoves: 115, numColors: 15 }, // 39 * 39 = 1521, Punkte: 1521
    114: { gridSize: 39, points: 1523, numMoves: 116, numColors: 15 }, // 39 * 39 = 1521, Punkte: 1523
    115: { gridSize: 39, points: 1525, numMoves: 117, numColors: 15 }, // 39 * 39 = 1521, Punkte: 1525
    116: { gridSize: 40, points: 1600, numMoves: 118, numColors: 15 }, // 40 * 40 = 1600, Punkte: 1600
    117: { gridSize: 40, points: 1602, numMoves: 119, numColors: 15 }, // 40 * 40 = 1600, Punkte: 1602
    118: { gridSize: 40, points: 1604, numMoves: 120, numColors: 15 }, // 40 * 40 = 1600, Punkte: 1604
    119: { gridSize: 41, points: 1681, numMoves: 121, numColors: 15 }, // 41 * 41 = 1681, Punkte: 1681
    120: { gridSize: 41, points: 1683, numMoves: 122, numColors: 15 }, // 41 * 41 = 1681, Punkte: 1683
};





// Funktion zum Hervorheben und Hinzufügen von Level-Boxen für abgeschlossene Levels
function highlightCompletedLevels() {
    const levelButtonsContainer = document.getElementById('levelButtons');
    const currentUser = localStorage.getItem('currentUsername'); // Benutzernamen abrufen

    // Überprüfen, ob ein Benutzername vorhanden ist
    if (!currentUser) {
        alert('Kein Benutzername gefunden. Bitte melden Sie sich an.');
        return;
    }

    // Alle Level in `localStorage` durchgehen
    for (let i = 1; i <= 120; i++) { // Da es 15 Level gibt
        const levelKey = `level_${currentUser}_${i}`; // Benutzer-spezifischer Schlüssel
        const levelData = JSON.parse(localStorage.getItem(levelKey)); // Level-Daten für den aktuellen Benutzer

        let levelBox = document.getElementById(`btn-l${i}`);

        // Falls keine Box für das Level existiert, wird eine neue erstellt
        if (!levelBox) {
            levelBox = document.createElement('div');
            levelBox.id = `btn-l${i}`;
            levelBox.className = 'level';
            levelBox.textContent = i;
            levelBox.onclick = () => startChallenge(i);
            levelButtonsContainer.appendChild(levelBox);
        }

        // Wenn `success` für das Level auf `true` steht, Hintergrundfarbe auf hellgrün setzen
        if (levelData && levelData.success === true) {
            levelBox.style.backgroundColor = 'lightgreen';
        } else if (levelData && levelData.success === false) {
            // Wenn das Level nicht erfolgreich ist, Hintergrundfarbe auf orange setzen
            levelBox.style.backgroundColor = 'orange';
        }
    }
}



// Funktion zum Starten eines Levels
function startChallenge(level) {
    const { gridSize, numColors, numMoves, points, lvl } = levels[level];
    const currentUser = localStorage.getItem('currentUsername'); // Hole den Benutzernamen
    const levelKey = `level_${currentUser}_${lvl}`; // Spezifischer Schlüssel mit Benutzername

    // Überprüfen, ob ein Eintrag für das Level existiert und ob `success` auf `true` ist
    let levelData = JSON.parse(localStorage.getItem(levelKey));

    if (levelData === null || levelData.success === false) {
        // Falls kein Eintrag oder `success` `false`, neuen Eintrag erstellen/überschreiben
        localStorage.setItem(levelKey, JSON.stringify({ success: false }));

        // Weiterleitung zur Herausforderung
        window.location.href = `herausforderung_spiel.html?gridSize=${gridSize}&numColors=${numColors}&numMoves=${numMoves}&points=${points}&lvl=${lvl}`;
    }
    // Wenn `success` true ist, keine Weiterleitung
}

// Beim Laden der Seite die abgeschlossenen und gespeicherten Level markieren
window.onload = function() {
    highlightCompletedLevels();
};
    </script>
</body>
</html>
