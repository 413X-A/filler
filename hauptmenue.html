<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fill Me • Hauptmenü</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }

        table {
            width: 90%;
            margin: 20px auto;
            border-collapse: collapse;
        }

        td {
            width: 30%;
            text-align: center;
        }

        button {
            width: 80%;
            padding: 10px;
            margin: 10px;
            font-size: 16px;
            background-color: lightgray;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }

        button:hover {
            background-color: gray;
            color: white;
        }

        #modeSelection {
            margin: 20px auto;
        }

        #overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 9;
        }

        #resultModal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border: 2px solid black;
            z-index: 10;
        }

        .level {
            display: inline-block;
            width: 25%; /* 25% der Breite */
            height: 70px; /* Höhe der Buttons */
            margin: 2.5%; /* 5% Abstand insgesamt (2.5% auf jeder Seite) */
            border: 2px solid black;
            border-radius: 10px; /* Abgerundete Ecken */
            cursor: pointer;
            line-height: 70px; /* Vertikale Zentrierung des Textes */
            font-size: 18px; /* Kleinere Schriftgröße */
            background-color: lightgray;
        }
        
    </style>
</head>
<body>
    <h1>Fill Me • Hauptmenü</h1>
    <p>Ziel ist es, das Spielfeld komplett in einer Farbe zu füllen. Du beginnst in der Mitte und wählst bei jedem Zug eine Farbe. Jede angrenzende Fläche in deiner gewählten Farbe wird dann deinem Bereich hinzugefügt. Das Ziel ist, möglichst viele Felder in wenigen Zügen einzunehmen. Achte darauf, strategisch vorzugehen, da du nur eine begrenzte Anzahl an Zügen hast. Gewinne, indem du das gesamte Spielfeld in deiner Farbe füllst.</p></p>

    <!-- Modus-Auswahl -->
    <div id="modeSelection">
        <h2>Wähle deinen Modus:</h2>
        <button onclick="showProfile()">Profil</button>
        <button onclick="showSinglePlayer()">Einzelspieler</button>
        <button onclick="showMultiPlayer()">Mehrspieler</button>
        <button onclick="showChallenges()">Herausforderungen [ALPHA]</button>
    </div>


      <!-- Profil -->     
<div id="profile" style="display: none;">
    <img src="ein_spieler_spiel_index_banner.png.PNG" alt="Einzelspieler Banner" style="width: 90%;">
    <p>Profil für <span id="userDisplay">Benutzer</span></p> <!-- Überschrift mit Benutzername -->
    <p>EXP: <span id="expDisplay">0</span></p> <!-- Platzhalter für EXP -->

    <!-- Buttons zum Löschen und Abmelden des Accounts -->
    <div style="display: flex; justify-content: space-around; margin-top: 20px;">
        <button onclick="logout()" style="width: 45%; margin: 0 5%;">Abmelden</button>
        <button onclick="clearLocalStorage()" style="width: 45%; margin: 0 5%;">Account löschen</button>
    </div>
</div>


    <!-- Einzelspieler Optionen -->
    <div id="singlePlayer" style="display: none;">
        <img src="ein_spieler_spiel_index_banner.png.PNG" alt="Einzelspieler Banner" style="width: 90%;">
        <p>Spiele Filler im Einzelspielermodus</p>
        <select id="gridSize">
            <option value="11">11x11</option>
            <option value="21">21x21</option>
            <option value="31">31x31</option>
        </select>
        <select id="numMoves">
            <option value="5">5 Züge</option>
            <option value="10">10 Züge</option>
            <option value="15">15 Züge</option>
            <option value="20">20 Züge</option>
            <option value="25">25 Züge</option>
            <option value="30">30 Züge</option>
            <option value="40">40 Züge</option>
            <option value="50">50 Züge</option>
            <option value="unlimited">Unendlich</option>
        </select>
        <select id="numColors">
            <option value="3">3 Farben</option>
            <option value="5">5 Farben</option>
            <option value="7">7 Farben</option>
            <option value="9">9 Farben</option>
        </select>
        <button onclick="startSinglePlayer()">Spiel starten</button>
    </div>

    <!-- Mehrspieler Optionen -->
    <div id="multiPlayer" style="display: none;">
        <img src="zwei_spieler_spiel_index_banner.png.PNG" alt="Mehrspieler Banner" style="width: 90%;">
        <p>Spiele Filler im Mehrspielermodus</p>
        <select id="gridSizeMulti">
            <option value="11">11x11</option>
            <option value="21">21x21</option>
            <option value="31">31x31</option>
        </select>
        <select id="numColorsMulti">
            <option value="3">3 Farben</option>
            <option value="5">5 Farben</option>
            <option value="7">7 Farben</option>
            <option value="9">9 Farben</option>
        </select>
        <button onclick="startMultiPlayer()">Spiel starten</button>
    </div>

    <!-- Herausforderungen -->
    <div id="challenges" style="display: none;">
        <img id="challengeBanner" src="herausforderung_spiel_index_banner.png.PNG" alt="Herausforderungen Banner" style="width: 90%;">
        <p>Spiele Filler mit einzigartigen Herausforderungen</p>
        <div id="levelButtons">
            <div id="btn-l1" class="level" onclick="startChallenge(1)">1</div>
<div id="btn-l2" class="level" onclick="startChallenge(2)">2</div>
<div id="btn-l3" class="level" onclick="startChallenge(3)">3</div>
<div id="btn-l4" class="level" onclick="startChallenge(4)">4</div>
<div id="btn-l5" class="level" onclick="startChallenge(5)">5</div>
<div id="btn-l6" class="level" onclick="startChallenge(6)">6</div>
<div id="btn-l7" class="level" onclick="startChallenge(7)">7</div>
<div id="btn-l8" class="level" onclick="startChallenge(8)">8</div>
<div id="btn-l9" class="level" onclick="startChallenge(9)">9</div>
<div id="btn-l10" class="level" onclick="startChallenge(10)">10</div>
<div id="btn-l11" class="level" onclick="startChallenge(11)">11</div>
<div id="btn-l12" class="level" onclick="startChallenge(12)">12</div>
<div id="btn-l13" class="level" onclick="startChallenge(13)">13</div>
<div id="btn-l14" class="level" onclick="startChallenge(14)">14</div>
<div id="btn-l15" class="level" onclick="startChallenge(15)">15</div>
<div id="btn-l16" class="level" onclick="startChallenge(16)">16</div>
<div id="btn-l17" class="level" onclick="startChallenge(17)">17</div>
<div id="btn-l18" class="level" onclick="startChallenge(18)">18</div>
<div id="btn-l19" class="level" onclick="startChallenge(19)">19</div>
<div id="btn-l20" class="level" onclick="startChallenge(20)">20</div>
<div id="btn-l21" class="level" onclick="startChallenge(21)">21</div>
<div id="btn-l22" class="level" onclick="startChallenge(22)">22</div>
<div id="btn-l23" class="level" onclick="startChallenge(23)">23</div>
<div id="btn-l24" class="level" onclick="startChallenge(24)">24</div>
<div id="btn-l25" class="level" onclick="startChallenge(25)">25</div>
<div id="btn-l26" class="level" onclick="startChallenge(26)">26</div>
<div id="btn-l27" class="level" onclick="startChallenge(27)">27</div>
<div id="btn-l28" class="level" onclick="startChallenge(28)">28</div>
<div id="btn-l29" class="level" onclick="startChallenge(29)">29</div>
<div id="btn-l30" class="level" onclick="startChallenge(30)">30</div>
<div id="btn-l31" class="level" onclick="startChallenge(31)">31</div>
<div id="btn-l32" class="level" onclick="startChallenge(32)">32</div>
<div id="btn-l33" class="level" onclick="startChallenge(33)">33</div>
<div id="btn-l34" class="level" onclick="startChallenge(34)">34</div>
<div id="btn-l35" class="level" onclick="startChallenge(35)">35</div>
<div id="btn-l36" class="level" onclick="startChallenge(36)">36</div>
<div id="btn-l37" class="level" onclick="startChallenge(37)">37</div>
<div id="btn-l38" class="level" onclick="startChallenge(38)">38</div>
<div id="btn-l39" class="level" onclick="startChallenge(39)">39</div>
<div id="btn-l40" class="level" onclick="startChallenge(40)">40</div>
<div id="btn-l41" class="level" onclick="startChallenge(41)">41</div>
<div id="btn-l42" class="level" onclick="startChallenge(42)">42</div>
<div id="btn-l43" class="level" onclick="startChallenge(43)">43</div>
<div id="btn-l44" class="level" onclick="startChallenge(44)">44</div>
<div id="btn-l45" class="level" onclick="startChallenge(45)">45</div>
<div id="btn-l46" class="level" onclick="startChallenge(46)">46</div>
<div id="btn-l47" class="level" onclick="startChallenge(47)">47</div>
<div id="btn-l48" class="level" onclick="startChallenge(48)">48</div>
<div id="btn-l49" class="level" onclick="startChallenge(49)">49</div>
<div id="btn-l50" class="level" onclick="startChallenge(50)">50</div>
<div id="btn-l51" class="level" onclick="startChallenge(51)">51</div>
<div id="btn-l52" class="level" onclick="startChallenge(52)">52</div>
<div id="btn-l53" class="level" onclick="startChallenge(53)">53</div>
<div id="btn-l54" class="level" onclick="startChallenge(54)">54</div>
<div id="btn-l55" class="level" onclick="startChallenge(55)">55</div>
<div id="btn-l56" class="level" onclick="startChallenge(56)">56</div>
<div id="btn-l57" class="level" onclick="startChallenge(57)">57</div>
<div id="btn-l58" class="level" onclick="startChallenge(58)">58</div>
<div id="btn-l59" class="level" onclick="startChallenge(59)">59</div>
<div id="btn-l60" class="level" onclick="startChallenge(60)">60</div>
<div id="btn-l61" class="level" onclick="startChallenge(61)">61</div>
<div id="btn-l62" class="level" onclick="startChallenge(62)">62</div>
<div id="btn-l63" class="level" onclick="startChallenge(63)">63</div>
<div id="btn-l64" class="level" onclick="startChallenge(64)">64</div>
<div id="btn-l65" class="level" onclick="startChallenge(65)">65</div>
<div id="btn-l66" class="level" onclick="startChallenge(66)">66</div>
<div id="btn-l67" class="level" onclick="startChallenge(67)">67</div>
<div id="btn-l68" class="level" onclick="startChallenge(68)">68</div>
<div id="btn-l69" class="level" onclick="startChallenge(69)">69</div>
<div id="btn-l70" class="level" onclick="startChallenge(70)">70</div>
<div id="btn-l71" class="level" onclick="startChallenge(71)">71</div>
<div id="btn-l72" class="level" onclick="startChallenge(72)">72</div>
<div id="btn-l73" class="level" onclick="startChallenge(73)">73</div>
<div id="btn-l74" class="level" onclick="startChallenge(74)">74</div>
<div id="btn-l75" class="level" onclick="startChallenge(75)">75</div>
<div id="btn-l76" class="level" onclick="startChallenge(76)">76</div>
<div id="btn-l77" class="level" onclick="startChallenge(77)">77</div>
<div id="btn-l78" class="level" onclick="startChallenge(78)">78</div>
<div id="btn-l79" class="level" onclick="startChallenge(79)">79</div>
<div id="btn-l80" class="level" onclick="startChallenge(80)">80</div>
<div id="btn-l81" class="level" onclick="startChallenge(81)">81</div>
<div id="btn-l82" class="level" onclick="startChallenge(82)">82</div>
<div id="btn-l83" class="level" onclick="startChallenge(83)">83</div>
<div id="btn-l84" class="level" onclick="startChallenge(84)">84</div>
<div id="btn-l85" class="level" onclick="startChallenge(85)">85</div>
<div id="btn-l86" class="level" onclick="startChallenge(86)">86</div>
<div id="btn-l87" class="level" onclick="startChallenge(87)">87</div>
<div id="btn-l88" class="level" onclick="startChallenge(88)">88</div>
<div id="btn-l89" class="level" onclick="startChallenge(89)">89</div>
<div id="btn-l90" class="level" onclick="startChallenge(90)">90</div>
<div id="btn-l91" class="level" onclick="startChallenge(91)">91</div>
<div id="btn-l92" class="level" onclick="startChallenge(92)">92</div>
            <div id="btn-l93" class="level" onclick="startChallenge(93)">93</div>
<div id="btn-l94" class="level" onclick="startChallenge(94)">94</div>
<div id="btn-l95" class="level" onclick="startChallenge(95)">95</div>
<div id="btn-l96" class="level" onclick="startChallenge(96)">96</div>
<div id="btn-l97" class="level" onclick="startChallenge(97)">97</div>
<div id="btn-l98" class="level" onclick="startChallenge(98)">98</div>
<div id="btn-l99" class="level" onclick="startChallenge(99)">99</div>
<div id="btn-l100" class="level" onclick="startChallenge(100)">100</div>
<div id="btn-l101" class="level" onclick="startChallenge(101)">101</div>
<div id="btn-l102" class="level" onclick="startChallenge(102)">102</div>
<div id="btn-l103" class="level" onclick="startChallenge(103)">103</div>
<div id="btn-l104" class="level" onclick="startChallenge(104)">104</div>
<div id="btn-l105" class="level" onclick="startChallenge(105)">105</div>
<div id="btn-l106" class="level" onclick="startChallenge(106)">106</div>
<div id="btn-l107" class="level" onclick="startChallenge(107)">107</div>
<div id="btn-l108" class="level" onclick="startChallenge(108)">108</div>
<div id="btn-l109" class="level" onclick="startChallenge(109)">109</div>
<div id="btn-l110" class="level" onclick="startChallenge(110)">110</div>
<div id="btn-l111" class="level" onclick="startChallenge(111)">111</div>
<div id="btn-l112" class="level" onclick="startChallenge(112)">112</div>
<div id="btn-l113" class="level" onclick="startChallenge(113)">113</div>
<div id="btn-l114" class="level" onclick="startChallenge(114)">114</div>
<div id="btn-l115" class="level" onclick="startChallenge(115)">115</div>
<div id="btn-l116" class="level" onclick="startChallenge(116)">116</div>
<div id="btn-l117" class="level" onclick="startChallenge(117)">117</div>
<div id="btn-l118" class="level" onclick="startChallenge(118)">118</div>
<div id="btn-l119" class="level" onclick="startChallenge(119)">119</div>
<div id="btn-l120" class="level" onclick="startChallenge(120)">120</div>


        </div>
    </div>

    <div id="overlay"></div>
    <div id="resultModal">
        <h2>Spielende</h2>
        <p id="resultMessage"></p>
        <button id="restartGame">OK</button>
    </div>

    <script>
        function clearLocalStorage() {
    const currentUser = localStorage.getItem('currentUsername'); // Den aktuellen Benutzernamen abrufen

    // Überprüfen, ob ein Benutzername vorhanden ist
    if (!currentUser) {
        alert('Kein Benutzername gefunden.'); // Optional: Eine Warnung anzeigen, wenn kein Benutzername vorhanden ist
        return;
    }

    // Alle aktuellen Benutzerdaten löschen
    for (let key in localStorage) {
        if (key.startsWith(`exp_${currentUser}`) || key.startsWith(`level_${currentUser}`)) {
            localStorage.removeItem(key); // Löscht die Einträge, die mit dem Benutzernamen verknüpft sind
        }
    }

    // Bestätigungsnachricht
    alert('Dein Account wurde gelöscht.');

    // Auf die index.html leiten
    window.location.href = 'index.html'; // Hier sicherstellen, dass der Pfad korrekt ist
}

    function logout() {
            // Bestätigungsnachricht
        alert('Dein Account wurde abgemeldet.');
        // Nur Weiterleitung zur Index-Seite, ohne Daten zu löschen
        window.location.href = 'index.html';
    }


        // Funktionen um die verschiedenen Abschnitte anzuzeigen
        function showProfile() {
    // Zeigt das Profil an
    document.getElementById('profile').style.display = 'block';
    document.getElementById('singlePlayer').style.display = 'none';
    document.getElementById('multiPlayer').style.display = 'none';
    document.getElementById('challenges').style.display = 'none';

    // Holt den Benutzernamen aus localStorage und zeigt ihn an
    const currentUser = localStorage.getItem('currentUsername') || 'Benutzer';
    document.getElementById('userDisplay').textContent = currentUser;

    // Spezifischer Schlüssel für den Benutzer
    const expKey = `exp_${currentUser}`; // Schlüssel für die EXP basierend auf dem Benutzernamen

    // Holt den EXP-Wert des aktuellen Benutzers und zeigt ihn an
    const exp = localStorage.getItem(expKey) || 0; // EXP aus localStorage abrufen
    document.getElementById('expDisplay').textContent = exp; // EXP anzeigen
}
        
        function showSinglePlayer() {
            document.getElementById('profile').style.display = 'none';
            document.getElementById('singlePlayer').style.display = 'block';
            document.getElementById('multiPlayer').style.display = 'none';
            document.getElementById('challenges').style.display = 'none';
        }

        function showMultiPlayer() {
            document.getElementById('profile').style.display = 'none';
            document.getElementById('singlePlayer').style.display = 'none';
            document.getElementById('multiPlayer').style.display = 'block';
            document.getElementById('challenges').style.display = 'none';
        }

        function showChallenges() {
            document.getElementById('profile').style.display = 'none';
            document.getElementById('singlePlayer').style.display = 'none';
            document.getElementById('multiPlayer').style.display = 'none';
            document.getElementById('challenges').style.display = 'block';
            loadLevels(); // Lade die Level, wenn die Herausforderungen angezeigt werden
        }

        function startSinglePlayer() {
            const gridSize = document.getElementById('gridSize').value;
            const numMoves = document.getElementById('numMoves').value;
            const numColors = document.getElementById('numColors').value;
            window.location.href = `ein_spieler_spiel.html?gridSize=${gridSize}&numMoves=${numMoves}&numColors=${numColors}`;
        }

        function startMultiPlayer() {
            const gridSize = document.getElementById('gridSizeMulti').value;
            const numColors = document.getElementById('numColorsMulti').value;
            window.location.href = `zwei_spieler_spiel.html?gridSize=${gridSize}&numColors=${numColors}`;
        }

        // Neue Herausforderungen Level
      const levels = [
    1: { gridSize: 3, points: 5,   numMoves: 3, numColors: 2, lvl: 1 },
    2: { gridSize: 3, points: 6,   numMoves: 4, numColors: 2, lvl: 2 },
    3: { gridSize: 3, points: 7,   numMoves: 5, numColors: 2, lvl: 3 },
    4: { gridSize: 4, points: 12,  numMoves: 6, numColors: 2, lvl: 4 },
    5: { gridSize: 4, points: 13,  numMoves: 7, numColors: 2, lvl: 5 },
    6: { gridSize: 4, points: 14,  numMoves: 8, numColors: 2, lvl: 6 },
    7: { gridSize: 5, points: 20,  numMoves: 9, numColors: 2, lvl: 7 },
    8: { gridSize: 5, points: 21,  numMoves: 10, numColors: 2, lvl: 8 },
    9: { gridSize: 5, points: 22,  numMoves: 11, numColors: 2, lvl: 9 },
    10: { gridSize: 6, points: 30,  numMoves: 12, numColors: 3, lvl: 10 },
    11: { gridSize: 6, points: 31,  numMoves: 13, numColors: 3, lvl: 11 },
    12: { gridSize: 6, points: 32,  numMoves: 14, numColors: 3, lvl: 12 },
    13: { gridSize: 7, points: 42,  numMoves: 15, numColors: 3, lvl: 13 },
    14: { gridSize: 7, points: 44,  numMoves: 16, numColors: 3, lvl: 14 },
    15: { gridSize: 7, points: 46,  numMoves: 17, numColors: 3, lvl: 15 },
    16: { gridSize: 8, points: 56,  numMoves: 18, numColors: 3, lvl: 16 },
    17: { gridSize: 8, points: 58,  numMoves: 19, numColors: 3, lvl: 17 },
    18: { gridSize: 8, points: 60,  numMoves: 20, numColors: 3, lvl: 18 },
    19: { gridSize: 9, points: 72,  numMoves: 21, numColors: 4, lvl: 19 },
    20: { gridSize: 9, points: 74,  numMoves: 22, numColors: 4, lvl: 20 },
    21: { gridSize: 9, points: 76,  numMoves: 23, numColors: 4, lvl: 21 },
    22: { gridSize: 10, points: 90, numMoves: 24, numColors: 4, lvl: 22 },
    23: { gridSize: 10, points: 92, numMoves: 25, numColors: 4, lvl: 23 },
    24: { gridSize: 10, points: 94, numMoves: 26, numColors: 4, lvl: 24 },
    25: { gridSize: 11, points: 110, numMoves: 27, numColors: 4, lvl: 25 },
    26: { gridSize: 11, points: 112, numMoves: 28, numColors: 4, lvl: 26 },
    27: { gridSize: 11, points: 114, numMoves: 29, numColors: 4, lvl: 27 },
    28: { gridSize: 12, points: 132, numMoves: 30, numColors: 5, lvl: 28 },
    29: { gridSize: 12, points: 134, numMoves: 31, numColors: 5, lvl: 29 },
    30: { gridSize: 12, points: 136, numMoves: 32, numColors: 5, lvl: 30 },
    31: { gridSize: 13, points: 156, numMoves: 33, numColors: 5, lvl: 31 },
    32: { gridSize: 13, points: 158, numMoves: 34, numColors: 5, lvl: 32 },
    33: { gridSize: 13, points: 160, numMoves: 35, numColors: 5, lvl: 33 },
    34: { gridSize: 14, points: 196, numMoves: 36, numColors: 6, lvl: 34 },
    35: { gridSize: 14, points: 198, numMoves: 37, numColors: 6, lvl: 35 },
    36: { gridSize: 14, points: 200, numMoves: 38, numColors: 6, lvl: 36 },
    37: { gridSize: 15, points: 240, numMoves: 39, numColors: 6, lvl: 37 },
    38: { gridSize: 15, points: 242, numMoves: 40, numColors: 6, lvl: 38 },
    39: { gridSize: 15, points: 244, numMoves: 41, numColors: 6, lvl: 39 },
    40: { gridSize: 16, points: 288, numMoves: 42, numColors: 6, lvl: 40 },
    41: { gridSize: 16, points: 290, numMoves: 43, numColors: 6, lvl: 41 },
    42: { gridSize: 16, points: 292, numMoves: 44, numColors: 6, lvl: 42 },
    43: { gridSize: 17, points: 342, numMoves: 45, numColors: 7, lvl: 43 },
    44: { gridSize: 17, points: 344, numMoves: 46, numColors: 7, lvl: 44 },
    45: { gridSize: 17, points: 346, numMoves: 47, numColors: 7, lvl: 45 },
    46: { gridSize: 18, points: 396, numMoves: 48, numColors: 7, lvl: 46 },
    47: { gridSize: 18, points: 398, numMoves: 49, numColors: 7, lvl: 47 },
    48: { gridSize: 18, points: 400, numMoves: 50, numColors: 7, lvl: 48 },
    49: { gridSize: 19, points: 462, numMoves: 51, numColors: 7, lvl: 49 },
    50: { gridSize: 19, points: 464, numMoves: 52, numColors: 7, lvl: 50 },
    51: { gridSize: 19, points: 466, numMoves: 53, numColors: 7, lvl: 51 },
    52: { gridSize: 20, points: 540, numMoves: 54, numColors: 8, lvl: 52 },
    53: { gridSize: 20, points: 542, numMoves: 55, numColors: 8, lvl: 53 },
    54: { gridSize: 20, points: 544, numMoves: 56, numColors: 8, lvl: 54 },
    55: { gridSize: 21, points: 630, numMoves: 57, numColors: 8, lvl: 55 },
    56: { gridSize: 21, points: 632, numMoves: 58, numColors: 8, lvl: 56 },
    57: { gridSize: 21, points: 634, numMoves: 59, numColors: 8, lvl: 57 },
    58: { gridSize: 22, points: 720, numMoves: 60, numColors: 8, lvl: 58 },
    59: { gridSize: 22, points: 722, numMoves: 61, numColors: 8, lvl: 59 },
    60: { gridSize: 23, points: 840, numMoves: 63, numColors: 9, lvl: 61 },
    61: { gridSize: 23, points: 842, numMoves: 64, numColors: 9, lvl: 62 },
    62: { gridSize: 23, points: 844, numMoves: 65, numColors: 9, lvl: 63 },
    63: { gridSize: 24, points: 960, numMoves: 66, numColors: 9, lvl: 64 },
    64: { gridSize: 24, points: 962, numMoves: 67, numColors: 9, lvl: 65 },
    65: { gridSize: 24, points: 964, numMoves: 68, numColors: 9, lvl: 66 },
    66: { gridSize: 25, points: 1100, numMoves: 69, numColors: 10, lvl: 67 },
    67: { gridSize: 25, points: 1102, numMoves: 70, numColors: 10, lvl: 68 },
    68: { gridSize: 25, points: 1104, numMoves: 71, numColors: 10, lvl: 69 },
    69: { gridSize: 26, points: 1260, numMoves: 72, numColors: 10, lvl: 70 },
    70: { gridSize: 26, points: 1262, numMoves: 73, numColors: 10, lvl: 71 },
    71: { gridSize: 26, points: 1264, numMoves: 74, numColors: 10, lvl: 72 },
    72: { gridSize: 27, points: 1440, numMoves: 75, numColors: 11, lvl: 73 },
    73: { gridSize: 27, points: 1442, numMoves: 76, numColors: 11, lvl: 74 },
    74: { gridSize: 27, points: 1444, numMoves: 77, numColors: 11, lvl: 75 },
    75: { gridSize: 28, points: 1620, numMoves: 78, numColors: 11, lvl: 76 },
    76: { gridSize: 28, points: 1622, numMoves: 79, numColors: 11, lvl: 77 },
    77: { gridSize: 28, points: 1624, numMoves: 80, numColors: 11, lvl: 78 },
    78: { gridSize: 29, points: 1800, numMoves: 81, numColors: 12, lvl: 79 },
    79: { gridSize: 29, points: 1802, numMoves: 82, numColors: 12, lvl: 80 },
    80: { gridSize: 29, points: 1804, numMoves: 83, numColors: 12, lvl: 81 },
    81: { gridSize: 30, points: 1980, numMoves: 84, numColors: 12, lvl: 82 },
    82: { gridSize: 30, points: 1982, numMoves: 85, numColors: 12, lvl: 83 },
    83: { gridSize: 30, points: 1984, numMoves: 86, numColors: 12, lvl: 84 },
    84: { gridSize: 31, points: 2160, numMoves: 87, numColors: 13, lvl: 85 },
    85: { gridSize: 31, points: 2162, numMoves: 88, numColors: 13, lvl: 86 },
    86: { gridSize: 31, points: 2164, numMoves: 89, numColors: 13, lvl: 87 },
    87: { gridSize: 32, points: 2340, numMoves: 90, numColors: 13, lvl: 88 },
    88: { gridSize: 32, points: 2342, numMoves: 91, numColors: 13, lvl: 89 },
    89: { gridSize: 32, points: 2344, numMoves: 92, numColors: 13, lvl: 90 },
    90: { gridSize: 33, points: 2520, numMoves: 93, numColors: 14, lvl: 91 },
    91: { gridSize: 33, points: 2522, numMoves: 94, numColors: 14, lvl: 92 },
    92: { gridSize: 33, points: 2524, numMoves: 95, numColors: 14, lvl: 93 },
    93: { gridSize: 34, points: 2700, numMoves: 96, numColors: 14, lvl: 94 },
    94: { gridSize: 34, points: 2702, numMoves: 97, numColors: 14, lvl: 95 },
    95: { gridSize: 34, points: 2704, numMoves: 98, numColors: 14, lvl: 96 },
    96: { gridSize: 35, points: 2880, numMoves: 99, numColors: 15, lvl: 97 },
    97: { gridSize: 35, points: 2882, numMoves: 100, numColors: 15, lvl: 98 },
    98: { gridSize: 35, points: 2884, numMoves: 101, numColors: 15, lvl: 99 },
    99: { gridSize: 36, points: 3060, numMoves: 102, numColors: 15, lvl: 100 },
    100: { gridSize: 36, points: 3062, numMoves: 103, numColors: 15, lvl: 101 },
    101: { gridSize: 36, points: 3064, numMoves: 104, numColors: 15, lvl: 102 },
    102: { gridSize: 37, points: 3240, numMoves: 105, numColors: 16, lvl: 103 },
    103: { gridSize: 37, points: 3242, numMoves: 106, numColors: 16, lvl: 104 },
    104: { gridSize: 37, points: 3244, numMoves: 107, numColors: 16, lvl: 105 },
    105: { gridSize: 38, points: 3420, numMoves: 108, numColors: 16, lvl: 106 },
    106: { gridSize: 38, points: 3422, numMoves: 109, numColors: 16, lvl: 107 },
    107: { gridSize: 38, points: 3424, numMoves: 110, numColors: 16, lvl: 108 },
    108: { gridSize: 39, points: 3600, numMoves: 111, numColors: 17, lvl: 109 },
    109: { gridSize: 39, points: 3602, numMoves: 112, numColors: 17, lvl: 110 },
    110: { gridSize: 39, points: 3604, numMoves: 113, numColors: 17, lvl: 111 },
    111: { gridSize: 40, points: 3780, numMoves: 114, numColors: 17, lvl: 112 },
    112: { gridSize: 40, points: 3782, numMoves: 115, numColors: 17, lvl: 113 },
    113: { gridSize: 40, points: 3784, numMoves: 116, numColors: 17, lvl: 114 },
    114: { gridSize: 41, points: 3960, numMoves: 117, numColors: 18, lvl: 115 },
    115: { gridSize: 41, points: 3962, numMoves: 118, numColors: 18, lvl: 116 },
    116: { gridSize: 41, points: 3964, numMoves: 119, numColors: 18, lvl: 117 },
    117: { gridSize: 42, points: 4140, numMoves: 120, numColors: 18, lvl: 118 },
    118: { gridSize: 42, points: 4142, numMoves: 121, numColors: 18, lvl: 119 },
    119: { gridSize: 42, points: 3980, numMoves: 121, numColors: 18, lvl: 119 },
    120: { gridSize: 42, points: 4144, numMoves: 122, numColors: 18, lvl: 120 }
};


// Funktion zum Hervorheben und Hinzufügen von Level-Boxen für abgeschlossene Levels
function highlightCompletedLevels() {
    const levelButtonsContainer = document.getElementById('levelButtons');
    const currentUser = localStorage.getItem('currentUsername'); // Benutzernamen abrufen

    // Überprüfen, ob ein Benutzername vorhanden ist
    if (!currentUser) {
        alert('Kein Benutzername gefunden. Bitte melden Sie sich an.');
        return;
    }

    // Alle Level in `localStorage` durchgehen
    for (let i = 1; i <= 120; i++) { // Da es 15 Level gibt
        const levelKey = `level_${currentUser}_${i}`; // Benutzer-spezifischer Schlüssel
        const levelData = JSON.parse(localStorage.getItem(levelKey)); // Level-Daten für den aktuellen Benutzer

        let levelBox = document.getElementById(`btn-l${i}`);

        // Falls keine Box für das Level existiert, wird eine neue erstellt
        if (!levelBox) {
            levelBox = document.createElement('div');
            levelBox.id = `btn-l${i}`;
            levelBox.className = 'level';
            levelBox.textContent = i;
            levelBox.onclick = () => startChallenge(i);
            levelButtonsContainer.appendChild(levelBox);
        }

        // Wenn `success` für das Level auf `true` steht, Hintergrundfarbe auf hellgrün setzen
        if (levelData && levelData.success === true) {
            levelBox.style.backgroundColor = 'lightgreen';
        } else if (levelData && levelData.success === false) {
            // Wenn das Level nicht erfolgreich ist, Hintergrundfarbe auf orange setzen
            levelBox.style.backgroundColor = 'orange';
        }
    }
}



// Funktion zum Starten eines Levels
function startChallenge(level) {
    const { gridSize, numColors, numMoves, points, lvl } = levels[level];
    const currentUser = localStorage.getItem('currentUsername'); // Hole den Benutzernamen
    const levelKey = `level_${currentUser}_${lvl}`; // Spezifischer Schlüssel mit Benutzername

    // Überprüfen, ob ein Eintrag für das Level existiert und ob `success` auf `true` ist
    let levelData = JSON.parse(localStorage.getItem(levelKey));

    if (levelData === null || levelData.success === false) {
        // Falls kein Eintrag oder `success` `false`, neuen Eintrag erstellen/überschreiben
        localStorage.setItem(levelKey, JSON.stringify({ success: false }));

        // Weiterleitung zur Herausforderung
        window.location.href = `herausforderung_spiel.html?gridSize=${gridSize}&numColors=${numColors}&numMoves=${numMoves}&points=${points}&lvl=${lvl}`;
    }
    // Wenn `success` true ist, keine Weiterleitung
}

// Beim Laden der Seite die abgeschlossenen und gespeicherten Level markieren
window.onload = function() {
    highlightCompletedLevels();
};
    </script>
</body>
</html>
